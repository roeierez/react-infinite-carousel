!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.Carousel=e(require("react")):t.Carousel=e(t.React)}(this,function(t){return function(t){function e(r){if(i[r])return i[r].exports;var s=i[r]={exports:{},id:r,loaded:!1};return t[r].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var r=i(1),s=i(2),n=i(3),o=2,h=r.createClass({displayName:"carousel",getInitialState:function(){return{centeredItemIndex:0,centerItemProgress:.5}},componentDidMount:function(){this.parentElementWidth=r.findDOMNode(this).parentElement.clientWidth,window.addEventListener("resize",this.onResize),this.refs.scroller.scroll((this.getItemWidth()+this.getItemsSpacing())*(this.props.initialItemIndex||this.props.controlledItemIndex||0)),this.forceUpdate()},componentWillReceiveProps:function(t,e){t.controlledItemIndex&&t.controlledItemIndex!==this.props.controlledItemIndex&&this.refs.scroller.scroll((this.getItemWidth()+this.getItemsSpacing())*(t.controlledItemIndex||0))},componentWillUnmount:function(){window.removeEventListener("resize",this.onResize)},onResize:function(){this.parentElementWidth=r.findDOMNode(this).parentElement.clientWidth,this.forceUpdate()},getContainerWidth:function(){return this.props.width||this.parentElementWidth},getItemWidth:function(){return this.props.itemWidth||this.getContainerWidth()/2||0},getItemsPerSide:function(){return this.props.numberOfRenderItemsPerSide||o},getScrollerSize:function(){return(this.props.itemsCount-1)*(this.getItemWidth()+this.getItemsSpacing())},getItemsSpacing:function(){return this.props.spacing||this.getItemWidth()/6||0},onScroll:function(t){var e=this.getItemsSpacing(),i=this.getItemWidth()+e,r=Math.max(0,Math.min(this.props.itemsCount-1,this.getCenterLeavingItem(t,i))),s=r*i-this.getContainerWidth()/2-this.getItemWidth()/2,n=(t-s)/(this.getContainerWidth()+this.getItemWidth());this.setState({centeredItemIndex:r,centerItemProgress:n})},getCenterLeavingItem:function(t,e){var i=this.state.centeredItemIndex,r=Math.floor(t/e),s=Math.ceil(t/e);return i=r>=this.state.centeredItemIndex?r:s},renderItem:function(t){var e=this.getContainerWidth(),i=(this.state.centerItemProgress>.5,this.getItemWidth()),s=this.getItemProgress(t),o=s*(e+i)-i,h=n.applyTranslateStyle({width:this.getItemWidth(),height:"100%",position:"absolute",top:"0px",left:"0px"},o,0,0);return r.createElement("div",{key:"carouselItem"+t%(2*this.getItemsPerSide()+1),style:h},this.props.itemRenderer(t,s))},getItemProgress:function(t){var e=t-this.state.centeredItemIndex,i=this.getContainerWidth(),r=this.getItemsSpacing(),s=this.getItemWidth(),n=i-this.state.centerItemProgress*(i+s)||0,o=n+e*r+e*s;return(o+s)/(i+s)},render:function(){return r.createElement("div",{style:{width:this.getContainerWidth(),height:"100%",overflow:"hidden",position:"relative"}},this.renderBackground(),r.createElement(s,{ref:"scroller",size:this.getScrollerSize(),snap:this.getItemWidth()+this.getItemsSpacing(),onScroll:this.onScroll},r.createElement("div",{style:{position:"absolute",height:"100%",width:"100%",top:0,left:0}},this.renderItems())))},renderItems:function(){for(var t=[this.renderItem(this.state.centeredItemIndex)],e=1;e<=this.getItemsPerSide();++e)this.state.centeredItemIndex-e>=0&&t.unshift(this.renderItem(this.state.centeredItemIndex-e)),this.state.centeredItemIndex+e<this.props.itemsCount&&t.push(this.renderItem(this.state.centeredItemIndex+e));return t},renderBackground:function(){var t=this.state.centerItemProgress>.5,e=this.state.centeredItemIndex,i=this.getContainerWidth(),r=this.getItemWidth();.5!=this.state.centerItemProgress&&(t&&this.props.itemsCount>this.state.centeredItemIndex+1?e++:!t&&e>0&&e--);var s=Math.abs(this.getItemProgress(this.state.centeredItemIndex)-.5)*(i+r);return this.props.backgroundRenderer(this.state.centeredItemIndex,e,s/r)}});h.propTypes={backgroundRenderer:r.PropTypes.func,itemRenderer:r.PropTypes.func,itemWidth:r.PropTypes.number,width:r.PropTypes.number,spacing:r.PropTypes.number,numberOfRenderItemsPerSide:r.PropTypes.number,itemsCount:r.PropTypes.number,initialItemIndex:r.PropTypes.number,controlledItemIndex:r.PropTypes.number},t.exports=h},function(e,i,r){e.exports=t},function(t,e,i){var r=i(1),s=250,n=r.createClass({displayName:"HorizontalScroller",timestamp:0,frame:0,velocity:0,amplitude:0,pressed:0,ticker:0,reference:0,offset:0,target:0,render:function(){return r.createElement("div",{onTouchStart:this.tap,onTouchMove:this.drag,onTouchEnd:this.release,onMouseDown:this.tap,onMouseMove:this.drag,onMouseUp:this.release,style:{height:"100%",width:"100%"}},r.Children.only(this.props.children))},xpos:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX},scroll:function(t){this.offset=t,this.props.onScroll(t)},autoScroll:function(){var t,e;this.amplitude&&(t=Date.now()-this.timestamp,e=this.amplitude*Math.exp(-t/s),e>3||-3>e?(this.scroll(this.target-e),requestAnimationFrame(this.autoScroll)):this.scroll(this.target))},tap:function(t){this.pressed=!0,this.reference=this.xpos(t),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),t.preventDefault(),t.stopPropagation()},drag:function(t){var e,i,r=this;this.pressed&&(e=this.xpos(t),i=this.reference-e,(i>2||-2>i)&&(this.reference=e,this.velocity=i,clearTimeout(this.timeoutID),this.timeoutID=setTimeout(function(){r.velocity=0},100),this.scroll(this.offset+i))),t.preventDefault(),t.stopPropagation()},release:function(t){var e=this.props.snap;this.pressed=!1,clearInterval(this.ticker),this.amplitude=this.velocity,this.target=this.offset,0!=this.amplitude&&(this.amplitude>0?this.target=Math.ceil(this.offset/e)*e:this.target=Math.floor(this.offset/e)*e),this.target=Math.round(this.target/e)*e,"number"==typeof this.props.size&&(this.target=Math.max(0,Math.min(this.props.size,Math.round(this.target/e)*e))),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this.autoScroll),t.preventDefault(),t.stopPropagation()}});n.propTypes={onScroll:r.PropTypes.func,snap:r.PropTypes.number,size:r.PropTypes.number},t.exports=n},function(t,e,i){t.exports={applyTranslateStyle:function(t,e,i,r){var s="translate3d("+e.toString()+"px,"+i+"px,"+r+"px)";return t.Transform=s,t.WebkitTransform=s,t.msTransform=s,t.MozTransform=s,t}}}])});